language: generic

services:
  - docker

jobs:
  - stage: LINT
    script:
      - echo test
    env:
      - DISTRIBUTIONS=debian.jessie  ANSIBLE_VERSION=2.6.5
      - DISTRIBUTIONS=debian.wheezy  ANSIBLE_VERSION=2.6.5
      - DISTRIBUTIONS=debian.stretch ANSIBLE_VERSION=2.6.5
      - DISTRIBUTIONS=ubuntu.xenial  ANSIBLE_VERSION=2.6.5
    if: type = pull_request

  - stage: gitsplit
    script:
      - echo gitsplit
      #env:
    if: branch = master AND type != pull_request


# env:
#   - DISTRIBUTIONS=debian.stretch ANSIBLE_VERSION=2.6.5
#   - DISTRIBUTIONS=debian.jessie  ANSIBLE_VERSION=2.6.5

# jobs:
#   include:
#     - &test
#       stage: test
#       env: DISTRIBUTIONS=debian.stretch ANSIBLE_VERSION=2.6.5
#       script:
#         - [ ${TRAVIS_EVENT_TYPE} == "pull_request" ] ) && make lint.diff test.diff
#       if: type = pull_request
#     - <<: *test
#       env: DISTRIBUTIONS=debian.jessie  ANSIBLE_VERSION=2.6.5
#     - <<: *test
#       env: DISTRIBUTIONS=debian.wheezy  ANSIBLE_VERSION=2.6.5
#     - stage: deploy
#       script: echo deploy

# env:
#   # global:
#   #   - VERBOSE=1

# # stages:
# #   - test
# #   - gitsplit
